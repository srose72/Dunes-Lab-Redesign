# Dunes-Lab-Redesign
BIO380 Project by CSUMB students Sophia Rose, Nicholas Heyer, Zane Toyon, and Madison McCarthy to redesign data entry for BIO211's "Dunes Lab" and compile all old data into the same format.

# Data compilation: DunesLabOldData.py, olddata.sh, DunesLabCompiler.py
DunesLabOldData.py is used to reformat past Excel sheets into a master tsv file. It's intended to be used in a BASH loop
appending to some file that will become the master tsv. DunesLabOldData.py prints standard errors to console informing
of any data entry errors found that cannot be resolved by this script. This script works with any tab-separated file
format, but we have provided 26 sample .txt files for use.

olddata.sh is an example for-loop that will run DunesLabOldData.py on .txt files and append the output to a
tab-separated values file called "compiled" with the date the script was run on. It is written assuming that
DunesLabOldData.py is in the same directory as the .txt files. The compiled file will not automatically have the .tsv
as the file extension and it will need to be added manually after the loop has completed.

DunesLabCompiler.py is used for new data sheets created using the provided .xlsm or .xlsx templates. It's intended to
be used in the same manner as DunesLabOldData.py.

The outputted tsv files from both of these scripts must have the .tsv file extension to be used with the provided
SQL database scripts.

These Python scripts were built under Python 2.7. For systems using any version of Python 3, all print statements
will need to be changed to include parentheses around whatever is being printed (Lines 13, 321, and debug statements)

# SQL Database: DuneLabDatabase.sql, DuneLabUpdate.sql
Run using the .tsv file generated by the DunesLabCompiler.py. You will need to change the file path in the first import statement to the correct one on your computer.

If a new species is added use the alter command on the file tables and the temp data to add the needed columns. To do this open the MySQL workbench, open a new query tab (Ctrl T) and enter the code as follows:
USE dune_lab;
ALTER TABLE frequency
ADD COLUMN [Genus_species] TINYINT;
ALTER TABLE obs
ADD COLUMN [Genus_species] TINYINT;
ALTER TABLE temp
ADD COLUMN [Genus_species] TINYINY;
Note: Any spaces or special characters (!@#$%^&*-?><, etc.) will have to be replaced with an underscore, or the code will not work.

The temp table should be structured metadata, data of counts, data of booleans seen. Additionally, the import commands (lines 422-825 in DuneLabDatabase) will need to have the new species added to the command. Refer to the comments within the sql script to properly add the species to the right place.

The first time you go to create the database, use DuneLabDatabase. Once the database has been created, use DuneLabUpdate.
